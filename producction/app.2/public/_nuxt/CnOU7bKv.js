import{H as $,M as S}from"./CUPxBhHO.js";import{s as C,u as N}from"./ChvDBiId.js";import{_ as b,r as p,g as h,c as a,o as n,a as s,j as w,k as v,n as B,t as g,l as I,b as f,m as l,F as _,p as M,q as F}from"./-XG8-ux0.js";import{N as L}from"./D-2LokV4.js";import{u as R}from"./BQ1CBEbv.js";import"./C_x2mvfa.js";import"./nYGwQ2-E.js";const V={__name:"CarouselBanners",setup(t){const o=p(null),c=p(!1);return h(()=>{const i=o.value.querySelectorAll(".banner");let e=0;C(()=>{c.value||(e=(e+1)%i.length)},3e3)}),(i,e)=>(n(),a("div",{ref_key:"carousel",ref:o,class:"carousel",tabindex:"0",onMouseenter:e[0]||(e[0]=u=>c.value=!0),onMouseleave:e[1]||(e[1]=u=>c.value=!1)},e[2]||(e[2]=[s("div",{class:"banner"},"Â¡Gana una moto 0KM!",-1),s("div",{class:"banner"},"Participa desde $1",-1),s("div",{class:"banner"},"Invita y gana mÃ¡s",-1)]),544))}},D=b(V,[["__scopeId","data-v-89c7ef6d"]]),E={class:"featured-card"},H={key:0,class:"icon",align:"center"},T=["src"],j={key:1,class:"icon"},q={class:"text"},z={class:"progress-bar"},A={class:"progress-label"},G={class:"footer"},K={key:0,class:"raffle-cost"},P={__name:"FeaturedCard",props:{img:String,icon:String,text:String,progress:Number,progressLabel:String,cost:[Number,String],slug:String},setup(t){const o=w();function c(e){return e==null?"":new Intl.NumberFormat("es-VE",{style:"currency",currency:"VES",maximumFractionDigits:2}).format(e)}const i=e=>{o.push(e)};return(e,u)=>(n(),a("div",E,[s("button",{onClick:u[0]||(u[0]=y=>i("/buy-tickets/"+t.slug)),class:"buy-btn full-card-btn"},[t.img?(n(),a("div",H,[s("img",{src:t.img,alt:"Rifa",style:{width:"70%"}},null,8,T)])):t.icon?(n(),a("div",j,[s("i",{class:B(t.icon)},null,2)])):v("",!0),s("div",q,g(t.text),1),s("div",z,[s("div",{class:"progress",style:I({width:t.progress+"%"})},null,4)]),s("div",A,g(t.progressLabel),1),s("div",G,[t.cost!==void 0&&t.cost!==null?(n(),a("div",K,g(c(t.cost)),1)):v("",!0),u[1]||(u[1]=s("span",{class:"buy-btn-label"},"Comprar nÃºmero",-1))])])]))}},U=b(P,[["__scopeId","data-v-58583831"]]),J={class:"user-greeting"},O={class:"avatar"},Q={key:0,class:"loading"},W={key:1,class:"error"},X={key:2,style:{"max-width":"600px",margin:"auto",padding:"0px 20px 0px 20px"}},Y={key:0,class:"empty"},Z={__name:"index",setup(t){const o=p(!1),{isLoggedIn:c,user:i}=R(),{raffles:e,loading:u,error:y}=N();function x(m){return m?m.split(" ").map(d=>{var r;return(r=d[0])==null?void 0:r.toUpperCase()}).join("").substring(0,2):"LS"}function k(m){return m?m.split(" ")[0]:""}return(m,d)=>(n(),a("div",null,[f($,{open:o.value,onToggleDrawer:d[0]||(d[0]=r=>o.value=!o.value)},null,8,["open"]),f(S,{open:o.value,onClose:d[1]||(d[1]=r=>o.value=!1)},null,8,["open"]),s("div",J,[l(c)&&l(i)&&l(i).fullName?(n(),a(_,{key:0},[s("div",O,g(x(l(i).fullName)),1),s("div",null," Hola, "+g(k(l(i).fullName))+" ðŸ‘‹ ",1)],64)):v("",!0)]),f(D),d[2]||(d[2]=s("div",{class:"section-title"},"Rifas destacadas",-1)),l(u)?(n(),a("div",Q,"Cargando rifas...")):l(y)?(n(),a("div",W,"Error al cargar rifas")):(n(),a("div",X,[(n(!0),a(_,null,M(l(e),r=>(n(),F(U,{key:r.id,slug:r.slug,img:r.imageMain,cost:r.price,text:r.description,progress:r.percentSold,"progress-label":`${r.percentSold}% vendido`},null,8,["slug","img","cost","text","progress","progress-label"]))),128)),l(e).length?v("",!0):(n(),a("div",Y,"No hay rifas disponibles"))])),f(L)]))}},ie=b(Z,[["__scopeId","data-v-1f0535f7"]]);export{ie as default};
